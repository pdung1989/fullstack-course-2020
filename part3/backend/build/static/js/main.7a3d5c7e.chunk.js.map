{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","deleteMode","name","number","onClick","event","preventDefault","Persons","filterPersons","map","i","key","Filter","filterText","handleFilter","value","onChange","PersonForm","addPerson","newName","handleAddName","newNumber","handleAddNumber","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Notification","message","classCss","className","App","useState","persons","setPersons","setNewName","setNewNumber","setFilterText","setFilterPersons","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","personService","initialPersons","filterList","length","filter","p","toLowerCase","indexOf","target","personObject","window","confirm","foundPersons","returnedPerson","concat","success","console","log","setTimeout","catch","error","ReactDOM","render","document","getElementById"],"mappings":"mNAiBeA,EAfA,SAAC,GAA0B,IAAzBC,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,WAOrB,OACI,6BACKD,EAAOE,KADZ,IACmBF,EAAOG,OACtB,4BAAQC,QARK,SAACC,GAClBA,EAAMC,iBACNL,EAAWD,KAMP,YCDGO,EARC,SAAC,GAAiC,IAAhCC,EAA+B,EAA/BA,cAAeP,EAAgB,EAAhBA,WAC7B,OACA,6BACCO,EAAcC,KAAI,SAACT,EAAOU,GAAR,OAAc,kBAAC,EAAD,CAAQC,IAAKD,EAAGV,OAAQA,EAAQC,WAAYA,SCQlEW,EAZA,SAAC,GAAgC,IAA/BC,EAA8B,EAA9BA,WAAYC,EAAkB,EAAlBA,aACzB,OACI,kDAEI,2BACAC,MAAOF,EACPG,SAAUF,MCqBPG,EA1BI,SAAC,GAAqE,IAApEC,EAAmE,EAAnEA,UAAWC,EAAwD,EAAxDA,QAASC,EAA+C,EAA/CA,cAAeC,EAAgC,EAAhCA,UAAWC,EAAqB,EAArBA,gBAC/D,OACI,0BAAMC,SAAUL,GACZ,qCAEI,2BACIH,MAAOI,EACPH,SAAUI,KAGlB,uCAEI,2BACAL,MAAOM,EACPL,SAAUM,KAGd,6BACA,4BAAQE,KAAK,UAAb,U,gBCpBNC,EAAU,eAsBD,EApBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB9B,EAfA,SAAAC,GAEX,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa9B,EAVM,SAACG,GAElB,OADgBP,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BQ,IAC5BL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ9B,EALA,SAACG,EAAIF,GAEhB,OADgBL,IAAMS,IAAN,UAAaV,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCN9BM,EAZM,SAAC,GAAyB,IAAxBC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,SAC5B,OAAe,OAAZD,EACQ,KAIP,yBAAKE,UAAWD,GACXD,ICsIEG,EAxIH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACPC,EADO,KACEC,EADF,OAEgBF,mBAAS,IAFzB,mBAEPtB,EAFO,KAEEyB,EAFF,OAGoBH,mBAAS,IAH7B,mBAGPpB,EAHO,KAGIwB,EAHJ,OAIsBJ,mBAAS,IAJ/B,mBAIP5B,EAJO,KAIKiC,EAJL,OAK4BL,mBAASC,GALrC,mBAKPlC,EALO,KAKQuC,EALR,OAM8BN,mBAAS,MANvC,mBAMPO,EANO,KAMSC,EANT,OAO0BR,mBAAS,MAPnC,mBAOPS,EAPO,KAOOC,EAPP,KASdC,qBAAU,WACNC,IAEKzB,MAAK,SAAA0B,GACFX,EAAWW,QAEpB,IAmGH,OARAF,qBAAU,WACN,IAAMG,EAAa1C,EAAW2C,OAAS,EAAId,EAAQe,QAAO,SAACC,GACvD,OAAOA,EAAExD,KAAKyD,cAAcC,QAAQ/C,EAAW8C,gBAAkB,KAChEjB,EACLK,EAAiBQ,KAElB,CAACb,EAAS7B,IAGT,6BACI,yCACA,kBAAC,EAAD,CAAcwB,QAASW,EAAgBV,SAAS,YAChD,kBAAC,EAAD,CAAcD,QAASa,EAAcZ,SAAS,UAC9C,kBAAC,EAAD,CAAQzB,WAAYA,EAAYC,aAlBnB,SAACT,GAClByC,EAAczC,EAAMwD,OAAO9C,UAkBvB,yCACA,kBAAC,EAAD,CAAYG,UAvFF,SAACb,GACfA,EAAMC,iBACN,IAAMwD,EAAe,CACjB5D,KAAMiB,EACNhB,OAAQkB,GAEZ,GAAGqB,EAAQjC,KAAI,SAAAT,GAAM,OAAIA,EAAOE,QAAM0D,QAAQE,EAAa5D,OAAS,GAChE,GAAG6D,OAAOC,QAAP,UAAkB7C,EAAlB,4EAAqG,CACpG,IAAM8C,EAAevB,EAAQe,QAAO,SAAAC,GAAC,OAAIA,EAAExD,OAAS4D,EAAa5D,QACjEmD,EACYY,EAAa,GAAGhC,GAAI6B,GAC3BlC,MAAK,SAACsC,GACHvB,EAAWD,EAAQe,QAAO,SAAAC,GAAC,OAAIA,EAAExD,OAAS4D,EAAa5D,QAAMiE,OAAOD,OAEvEtC,MAAK,SAAAwC,GACFC,QAAQC,IAAK,gBACbrB,EAAkB,oBAAD,OACO5B,EADP,eACuBF,IAExCoD,YAAW,WACPtB,EAAkB,QACnB,QAENuB,OAAM,SAAAC,GACHJ,QAAQC,IAAI,SACZnB,EAAgB,mBAAD,OACQhC,EADR,wCAGfoD,YAAW,WACPpB,EAAgB,QACjB,cAIfE,EACYS,GACPlC,MAAK,SAACsC,GACHvB,EAAWD,EAAQyB,OAAOD,OAE7BtC,MAAK,SAAAwC,GACFnB,EAAkB,SAAD,OACJ9B,IAEboD,YAAW,WACPtB,EAAkB,QACnB,QAENuB,OAAM,SAAAC,GACHJ,QAAQC,IAAI,SACZnB,EAAgB,mBAAD,OACQhC,EADR,wCAGfoD,YAAW,WACPpB,EAAgB,QACjB,SAkCPhC,QAASA,EACTC,cA9BU,SAACf,GACrBuC,EAAWvC,EAAMwD,OAAO9C,QA8BdM,UAAWA,EACXC,gBA5BY,SAACjB,GACrBwC,EAAaxC,EAAMwD,OAAO9C,UA6BtB,uCACA,kBAAC,EAAD,CACIP,cAAeA,EACfP,WAjHS,SAACD,GACf+D,OAAOC,QAAQ,UAAYhE,EAAOE,OACjCmD,EACkBrD,EAAOiC,IAQpBL,MAAK,WACFe,EAAWD,EAAQe,QAAO,SAAAC,GAAC,OAAIA,EAAEzB,KAAOjC,EAAOiC,e,MC5BnEyC,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.7a3d5c7e.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({person, deleteMode}) => {\n\n    const handleDelete = (event) => {\n        event.preventDefault()\n        deleteMode(person) \n    }\n\n    return (\n        <div>\n            {person.name} {person.number}\n            <button onClick={handleDelete}>delete</button>\n        </div>\n    )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({filterPersons, deleteMode}) => {\n    return (\n    <div>\n    {filterPersons.map((person,i) => <Person key={i} person={person} deleteMode={deleteMode} />)}\n    </div> \n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst Filter = ({filterText, handleFilter}) => {\n    return (\n        <div>\n            filter shown with: \n            <input\n            value={filterText} \n            onChange={handleFilter}\n            />\n         </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\n\nconst PersonForm = ({addPerson, newName, handleAddName, newNumber, handleAddNumber}) => {\n    return (\n        <form onSubmit={addPerson}>\n            <div>\n                name: \n                <input\n                    value={newName}\n                    onChange={handleAddName}\n                />\n            </div>\n            <div>\n                number:\n                <input \n                value={newNumber}\n                onChange={handleAddNumber}\n                />\n            </div>\n            <div>\n            <button type=\"submit\">\n                add\n            </button>\n            </div>\n        </form>\n    ) \n}\n\nexport default PersonForm","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, deletePerson, update }\n","import React from 'react'\n\nconst Notification = ({message, classCss}) => {\n    if(message === null) {\n        return null\n    }\n\n    return (\n        <div className={classCss}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n    const [persons, setPersons] = useState([]) \n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [filterText, setFilterText] = useState('')\n    const [filterPersons, setFilterPersons] = useState(persons)\n    const [successMessage, setSuccessMessage] = useState(null)\n    const [errorMessage, setErrorMessage] = useState(null)\n\n    useEffect(() => {\n        personService\n            .getAll()\n            .then(initialPersons => {\n                setPersons(initialPersons)\n            })\n    }, [])\n\n    const deleteModeOf = (person) => {\n        if(window.confirm('Delete ' + person.name)) {\n            personService\n                .deletePerson(person.id)\n                // .then(() => {\n                //     personService\n                //         .getAll()\n                //         .then(initialPersons => {\n                //             setPersons(initialPersons)\n                //         })\n                // })\n                .then(() => {\n                    setPersons(persons.filter(p => p.id !== person.id))\n                })\n        } \n    }\n\n    const addPerson = (event) => {\n        event.preventDefault()\n        const personObject = {\n            name: newName,\n            number: newNumber\n        }\n        if(persons.map(person => person.name).indexOf(personObject.name) > -1) {\n            if(window.confirm(`${newName} is already added to phonebook, replace the old number with the new one`)) {\n                const foundPersons = persons.filter(p => p.name === personObject.name)\n                personService\n                    .update(foundPersons[0].id, personObject)\n                    .then((returnedPerson) => {\n                        setPersons(persons.filter(p => p.name !== personObject.name).concat(returnedPerson))\n                    })\n                    .then(success => {\n                        console.log ('number added')\n                        setSuccessMessage(\n                            `Added new number ${newNumber} to ${newName}`\n                        )\n                        setTimeout(() => {\n                            setSuccessMessage(null)\n                        }, 5000)\n                    })\n                    .catch(error => {\n                        console.log('ERROR')\n                        setErrorMessage(\n                            `Information of '${newName}' has been removed from the server.`\n                        )\n                        setTimeout(() => {\n                            setErrorMessage(null)\n                        }, 5000)\n                    })\n            }\n        } else {\n            personService\n                .create(personObject)\n                .then((returnedPerson) => {\n                    setPersons(persons.concat(returnedPerson))\n                })\n                .then(success => {\n                    setSuccessMessage(\n                        `Added ${newName}`\n                    )\n                    setTimeout(() => {\n                        setSuccessMessage(null)\n                    }, 5000)\n                })\n                .catch(error => {\n                    console.log('ERROR')\n                    setErrorMessage(\n                        `Information of '${newName}' has been removed from the server.`\n                    )\n                    setTimeout(() => {\n                        setErrorMessage(null)\n                    }, 5000)\n                })\n        }\n    } \n    \n    const handleAddName = (event) => {\n      setNewName(event.target.value)\n    }\n\n    const handleAddNumber = (event) => {\n        setNewNumber(event.target.value)\n    }\n\n    const handleFilter = (event) => {\n        setFilterText(event.target.value)\n    }\n\n    // Update filterPersons again when filterText or persons are changed\n    useEffect(() => {\n        const filterList = filterText.length > 0 ? persons.filter((p) => {\n            return p.name.toLowerCase().indexOf(filterText.toLowerCase()) >= 0\n        }) : persons\n        setFilterPersons(filterList)\n\n    }, [persons, filterText])\n    \n    return (\n        <div>\n            <h1>Phonebook</h1>\n            <Notification message={successMessage} classCss='success' />\n            <Notification message={errorMessage} classCss='error' />\n            <Filter filterText={filterText} handleFilter={handleFilter} />\n            <h3>Add a new</h3>\n            <PersonForm addPerson={addPerson} \n                newName={newName}\n                handleAddName={handleAddName} \n                newNumber={newNumber}\n                handleAddNumber={handleAddNumber}\n            />\n            <h1>Numbers</h1>\n            <Persons \n                filterPersons={filterPersons} \n                deleteMode={deleteModeOf}\n            />\n        </div>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}